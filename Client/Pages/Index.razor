@page "/"

@inject FilterService Filters
@inject HttpClient Http

@code
{
	private TextModel Text = new TextModel();

	// Get the text from server.
	protected override async Task OnInitializedAsync()
	{
		await base.OnInitializedAsync();
		Text = await Http.GetFromJsonAsync<TextModel>($"main/text/{(int)Filters.CurrentLang}");
		Filters.OnLangChange += (async () => await HandleLangChange());
	}

	// Get new text from server that is correct Language.
	private async Task HandleLangChange()
	{
		Text = await Http.GetFromJsonAsync<TextModel>($"main/text/{(int)Filters.CurrentLang}");
		this.StateHasChanged();
	}
}

<h1>@Text.Welcome</h1>
<p>@Text.Intro</p>

@switch (Filters.CurrentLang)
{
	case FilterService.Language.Random:
		<p>0000000</p>
		break;
	case FilterService.Language.English:
		<p>English</p>
		break;
	case FilterService.Language.Norwegian:
		<p>Norsk</p>
		break;
	case FilterService.Language.Japanese:
		<p>日本語</p>
		break;
}